---
name: app.upload
url: /upload
data: { authRequired: false }
controller: UploadCtrl
---
<div class="grid-container" ng-show="parsedResults.length == 0">
  <form>
    <label>Beers
      <input type="file" file-content="beers" ng-file-select="onFileSelect($files)">
    </label>
    <label>Breweries
      <input type="file" file-content="breweries" ng-file-select="onFileSelect($files)">
    </label>
  </form>
  <b>Progress:</b>
  <progress value="{{ progress }}"></progress>
</div>
<div class="grid-block vertical" ng-if="parsedResults.length > 0">
  <div class="grid-container">
    <div class="grid-container">
      <div class="grid-content">
        <span>Your spreadsheet containing {{ fileContent }} has been loaded.  Please review and correct any errors before submitting.</span>
        <a class="button">Submit</a>
      </div>
    </div>
  </div>
  <div class="grid-block">
    <table ng-if="fileContent == 'breweries'">
      <thead>
        <th>Name</th>
      </thead>
      <tbody>
        <tr ng-repeat="result in parsedResults">
          <td>{{ result.name }}</td>
        </tr>
      </tbody>
    </table>
    <table ng-if="fileContent == 'beers'">
      <thead>
        <tr>
          <th>Brewery</th>
          <th>Name</th>
        </tr>
      </thead>
      <tbody>
        <tr ng-repeat="result in parsedResults">
          <td>{{ result.brewery }}</td>
          <td>{{ result.name }}</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
